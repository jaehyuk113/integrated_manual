---
mode: "default"
title: "쿼리 스트링 및 토큰"
description: "라이브폼의 QueryString 및 Token ID 옵션에 대한 종합 가이드입니다. API 호출 시 추가 정보 전송, 중복 제출 방지, 사용자 식별 등 다양한 기능을 제공합니다. ID Check 프로세스 최적화를 위한 필수 정보를 확인하세요."
---

## 1. QueryString 변경 가능 옵션

라이브폼과 API에서 사용 가능한 QueryString 옵션을 통해 추가 정보를 전송하고 KYC 프로세스를 커스터마이즈할 수 있습니다.

## 2. 기본 URL 구조

- 기본 폼 URL: `https://form.argosidentity.com/?pid={project_Id}`
- QueryString 포함 URL: `https://form.argosidentity.com/?pid={project_Id}&blacklistCountries=false`

### 2-1. 주요 QueryString 파라미터

| 파라미터                  | ID Document | Knowledge-Based | 설명                                                                                                                                                                |
| --------------------- | :---------- | :-------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `blacklistCountries`  | Yes         | Yes             | 블랙리스트 국가에 대한 옵션을 해당 submission에 대하여 OFF 함 (`false`만 가능)                                                                                                           |
| `approvePeriod`       | Yes         | No              | Approved 중복 제출 방지 기간에 대한 옵션을 해당 submission에 대하여 OFF 함 (`false`만 가능)                                                                                               |
| `rejectPeriod`        | Yes         | No              | Rejected 중복 제출 방지 기간에 대한 옵션을 해당 submission에 대하여 OFF 함 (`false`만 가능)                                                                                               |
| `ageLimit`            | Yes         | Yes             | 연령 제한에 대한 옵션을 해당 submission에 대하여 OFF 함 (`false`만 가능)                                                                                                              |
| `rejectDuplicateUser` | Yes         | Yes             | 중복 제출 방지에 대한 옵션을 해당 submission에 대하여 ON / OFF 함 (`true` 및 `false` 모두 가능)                                                                                           |
| `email`               | Yes         | Yes             | 사용자 이메일                                                                                                                                                           |
| `userid`              | Yes         | Yes             | 사용자의 사용자 지정 고유 식별자                                                                                                                                                |
| `pid`                 | Yes         | Yes             | 각각의 project를 구분하는 고유의 구분자                                                                                                                                         |
| `sid`                 | Yes         | Yes             | 각각의 submission을 구분하는 고유의 구분자                                                                                                                                      |
| `cf1`                 | Yes         | Yes             | 사용자 정의 옵션 필드1                                                                                                                                                     |
| `cf2`                 | Yes         | Yes             | 사용자 정의 옵션 필드2                                                                                                                                                     |
| `cf3`                 | Yes         | Yes             | 사용자 정의 옵션 필드3                                                                                                                                                     |
| `allowedCountries`    | Yes         | Yes             | `allowedCountries`는 암호화 옵션을 통해서만 설정할 수 있으며, 직접 지정하는 것은 불가능합니다. 예시: `'allowedCountries': 'USA,KOR'}` 값을 암호화하여 전달하면 United States (USA) 및 South Korea (KOR)만 허용됩니다. |
| `knowledgeField`      | No          | Yes             | 반드시 encrypted 로 암호화해서 사용해야 됩니다.  Knowledge-based Form 에 노출시킬 필드를 정합니다. 지원하는 필드는 하단 매개변수 값 설정을 참조하세요.                                                              |
| `knowledgePrefill`    | No          | Yes             | 반드시 encrypted 로 암호화해서 사용해야 됩니다.  필드에 값을 미리 입력할 수 있습니다. 각 필드 별 입력이 가능한 값은 하단 매개변수 값 설정을 참조하세요.                                                                     |

### 2-1-a. Knowledge-Based 매개변수 값 설정

<AccordionGroup>
  <Accordion title="knowledgeField 매개변수 값 설정" icon="memo-pad">
    - `name`
    - `gender`
    - `birthDate`
    - `nationality`
    - `SSN` (미국 국가에 한해서만 지원됩니다.)
    - `address`
    - `phoneNumber`

      e.g. `{'knowledgeField': 'gender,nationality,name'}`

      상기의 매개변수 값은 대소문자를 동일하게 기재해야 동작합니다. 예를들면 birthdate 로 기재시 동작하지 않습니다. 위의 값과 동일하게 birthDate 로 기재하셔야 됩니다.
  </Accordion>
  <Accordion title="knowledgePrefill 매개변수 값 설정" icon="memo-pad">
    - `name` 미리 입력할 이름 기입
    - `birthDate` YYYY-MM-DD 형식으로 기재
    - `gender` male 혹은 female 로 기재
    - `nationality` ISO Alpha-3 국가 코드로 기재
    - `SSN` Social Security Number 숫자를 하이픈(-)을 포함하여 기재
    - `address` Google Maps 에 검색할 키워드 기입
    - `phoneNumber` 국가코드와 전화번호를 기재, 전화번호에는 하이픈(-)을 미포함하여 기재

      e.g. `{'knowledgePrefill': 'gender=male,birthdate=1990-01-01,SSN=123-12-0001,address=Washington D.C.,phoneNumber=+15555551234'}`

      `address`에는 Google Maps 에서 검색이 되는 키워드로 기재해주시면 됩니다. 미리 기입한 값은 주소 검색화면 필드에서 보여집니다.
  </Accordion>
</AccordionGroup>

<Note>
  모든 쿼리 스트링 값은 URL에 인코딩되어야 합니다.
</Note>

다음은 이메일 쿼리 매개변수를 사용한 경우와 사용하지 않은 경우의 ID 확인 예시입니다.

![dashboard](/images/ko_email_queryparameter.png)

### 2-2. 고유 유저 ID 및 커스텀 필드

- API 호출 시 KYC 제출자 식별을 위한 고유 유저 ID를 생성할 수 있습니다.
- 최대 3개의 커스텀 필드(cf1, cf2, cf3)를 추가하여 추가 정보를 전송할 수 있습니다.

## 3. Token ID 옵션

tokenId는 Private Mode에서 Liveform 제출 시 사용되는  String 데이터입니다.

목적 : 동일한 URL의 공유 및 중복 사용 방지

### 3-1. Token 검증 방식

다음 조건 중 하나라도 해당되면 검증 실패(에러) 발생:
시간 만료: 최초 사용으로부터 3분 경과
유효한 제출 건 존재: KYC Status가 결정된 제출건 존재 (approved, rejected, pending)

<Warning>
  주의

  - 위 조건에 해당하지 않으면 여러 사용자가 동시에 동일한 Token ID로 KYC를 진행할 수 있습니다.
</Warning>

### 3-2. Token ID 확인 방법

- Webhook
- GET Submission API (submission_id를 이용한 단건 조회)
- 대시보드의 Submission CSV 다운로드

### 3-3. Token ID 사용 URL 구조

- 기본 폼 URL: `https://form.argosidentity.com/?pid={project_Id}`
- Token ID 포함 URL: `https://form.argosidentity.com/?pid={project_Id}&token={tokenId}`

이 가이드를 통해 ID Check의 QueryString 및 Token ID 옵션을 효과적으로 활용하여 KYC 프로세스를 최적화하고 사용자 경험을 개선할 수 있습니다