export const CountryTable = ({ data }) => {
  return (
    <div id="country-table-container">
      <input type="text" id="country-search" placeholder="국가 이름으로 검색" />
      <table id="country-table">
        <thead>
          <tr>
            <th>Country Name</th>
            <th>Country Code</th>
          </tr>
        </thead>
        <tbody>
          {data.map((item, index) => (
            <tr key={index}>
              <td>{item.name}</td>
              <td>{item.code}</td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
};

export const initializeSearchFunction = `
  function initSearch() {
    const input = document.getElementById('country-search');
    const table = document.getElementById('country-table');
    const rows = table.getElementsByTagName('tr');

    input.addEventListener('keyup', function() {
      const filter = input.value.toLowerCase();
      for (let i = 1; i < rows.length; i++) {
        const td = rows[i].getElementsByTagName('td')[0];
        if (td) {
          const txtValue = td.textContent || td.innerText;
          if (txtValue.toLowerCase().indexOf(filter) > -1) {
            rows[i].style.display = "";
          } else {
            rows[i].style.display = "none";
          }
        }
      }
    });
  }

  if (typeof window !== 'undefined') {
    window.addEventListener('load', initSearch);
  }
`;
